<?phpif ( ! defined( 'ABSPATH' ) ) {     exit; // Exit if accessed directly}  add_action('admin_menu', 'pctm_social_login');	function pctm_social_login(){				add_menu_page( 'ats-socails', 'Socials Login', 'manage_options', 'ats-social-login', 'social_login_settings' );		  }   function social_login_settings(){    $setting_data = get_option('ats_social_login');	if(!empty($setting_data)){		extract($setting_data['facebook_details']);		extract($setting_data['google_plus_details']);   	}	?>   <div class="wrap">	<?php $tab2 = sanitize_text_field( $_GET['tab2'] );	?>		<h2> <?php _e('Social Login','ats'); ?> </h2>		<h2 class="nav-tab-wrapper woo-nav-tab-wrapper">			<a class="nav-tab <?php if($tab2 == 'general' || $tab2 == ''){ echo esc_html( "nav-tab-active" ); } ?>" href="?page=ats-social-login&amp;tab2=general">General</a>			<a class="nav-tab <?php if($tab2 == 'reports'){ echo esc_html( "nav-tab-active" ); } ?>" href="?page=ats-social-login&amp;tab2=reports">Reports</a>		</h2>    <div class="icon32" id="icon-users"><br></div>	<?php if($tab2 == 'general' || $tab2 == ''){ ?>	<form  method="post" action="" id="all_social_setting" enctype="multipart/form-data">			<?php wp_nonce_field( 'all_social_setting_action', 'social_setting_form_nonce_field' ); ?>	   <table class="form-table"><tbody><tr valign="top" class=""></tr></tbody></table>		<hr />				 <h3><?php _e('Facebook settings','ats'); ?></h3>		 <table class="form-table">			<tbody>			  				<tr valign="top">					<th class="titledesc" scope="row">						<label for="psl_facebook_id"><?php _e('Facebook App Id','phoen_social_login'); ?></label>					</th>					<td class="forminp forminp-text">						<input type="text"  value="<?php echo isset($facebook_id)?$facebook_id:''?>"  id="psl_facebook_id" name="psl_facebook_id"> 											</td>				</tr>			</tbody>		</table>		<hr />		<h3><?php _e('Google settings','ats'); ?></h3>		<table class="form-table">			<tbody>			 <tr valign="top">				<th class="titledesc" scope="row">					<label for="psl_google_id"><?php _e('Google client id','phoen_social_login'); ?></label>				</th>				<td class="forminp forminp-text">					<input type="text"  value="<?php echo isset($google_id)?$google_id:'';?>"  id="psl_google_id" name="psl_google_id"> 										</td>			 </tr>			 <tr valign="top">				<th class="titledesc" scope="row">					 <label for="psl_google_secret"><?php _e('Google API key','phoen_social_login'); ?></label>				</th>				<td class="forminp forminp-text">					 <input type="text"   value="<?php echo isset($google_api)?$google_api:'';?>"  id="psl_google_secret" name="psl_google_secret"> 										</td>			 </tr>					</tbody>		</table>  		<input type="submit" value="Save Changes" name="save_data" class="button button-primary" style="float: left; margin-right: 10px;">		<input type="button" id="reset_default_all" value="Reset Default" name="save_data" class="button button-info" style="float: left; margin-right: 10px;">    </form>	<?php } else if($tab2 == 'reports'){  ?>		<html>			<head>				<script type="text/javascript" src="https://www.google.com/jsapi"></script>					<script type="text/javascript">					  google.load("visualization", "1", {packages:["corechart"]});					  google.setOnLoadCallback(drawChart);					  function drawChart() {						var data = google.visualization.arrayToDataTable([						  ['Task', 'Hours per Day'],						  ['Facebook',  <?php $fb_count=get_option('psl_fb_count'); echo ($fb_count!='')?$fb_count:0?>],						  ['Google+',   <?php $gp_count=get_option('psl_gp_count'); echo ($gp_count!='')?$gp_count:0?>]						]);						var options = {						  title: 'Social Login Activities',						  pieHole: 0.4,						};						var chart = new google.visualization.PieChart(document.getElementById('donutchart'));						chart.draw(data, options);					  }					</script>			</head>			<body>				<div id="donutchart" style="width: 1150px; height: 500px;"></div>				<div class="socialchart" style="width: 1150px; height: auto;">					<table class="socialchart-data" width=100%>						<tr>						<th><?php _e('Networks','phoen_social_login'); ?></th><th><?php _e('Number of Connections','phoen_social_login'); ?></th>						</tr>						<tr><td>Facebook</td><td><?php $fb_count=get_option('psl_fb_count'); echo ($fb_count!='')?$fb_count:0?></td></tr>						<tr><td>Google Plus</td><td><?php $gp_count=get_option('psl_gp_count'); echo ($gp_count!='')?$gp_count:0?></td></tr>					</table>				</div>			</body>		</html>	<?php 	}	if($tab2 == 'allp')	{		?>			<style>			iframe.more-plugin {				min-height: 1000px;				width: 100%;			}			.wrap{				margin:0;			}			</style>		<?php	}	?>  </div>  <style>.socialchart {    background: #fff none repeat scroll 0 0;    margin-top: 20px;	 padding: 14px;}.socialchart-data{border:1px solid #ccc;}.socialchart-data th {    padding-bottom: 10px;    text-align: left;}.form-table th{ padding: 20px 10px 20px 20px;}.form-table {background: #fff none repeat scroll 0 0;}.form-table td {  padding: 15px 100px;}.button-primary{margin-top: 15px !important;}.button-info{margin-top: 15px !important;}</style><?php	wp_enqueue_script("ats-checkout-js", TEMPLATE_PATH."/socials/js/checkout.js",array('jquery'),'',true);	if(isset($_POST['save_data'])) {		if ( check_admin_referer( 'all_social_setting_action', 'social_setting_form_nonce_field' ) )		{						extract($_POST);			$social_setting= array(				  'facebook_details'=>array(				      'facebook_id'=>$psl_facebook_id),			     'google_plus_details'=>array(				     'google_id'=>$psl_google_id,				     'google_api'=>$psl_google_secret,			     ));			update_option('ats_social_login', $social_setting);			wp_redirect("admin.php?page=ats-social-login");				}   }} ?>